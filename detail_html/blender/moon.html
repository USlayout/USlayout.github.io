<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blenderで月を作る</title>
    <link rel="stylesheet" href="../../style.css">
    <script src="../../script.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/loaders/GLTFLoader.js"></script>
</head>
<body>
    <header>
        <h1>Blenderで月を作る</h1>
        <nav>
            <ul>
                <li><a href="../../index.html">ホーム</a></li>
                <li><a href="../../blender.html">Blenderのチュートリアル一覧</a></li>
                <li><a href="/model/path_test.html">月の作成</a></li>
            </ul>
        </nav>
    </header>

    <!--3Dモデル表示-->
    <div id="model-viewer">
        <canvas id="three-canvas"></canvas>

        <script>
            // Three.jsを使って3Dモデルを表示するコード
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three-canvas') });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            const loader = new THREE.GLTFLoader();
            loader.load('/model/test.glb', function(gltf) {
                scene.add(gltf.scene);
                gltf.scene.scale.set(0.5, 0.5, 0.5); // モデルのスケール調整
                gltf.scene.position.set(0, 0, -5); // モデルの位置調整
                animate();
            });

            function animate() {
                requestAnimationFrame(animate);
                renderer.render(scene, camera);
            }

            camera.position.z = 5;

            window.addEventListener('resize', function() {
                const width = window.innerWidth;
                const height = window.innerHeight;
                renderer.setSize(width, height);
                camera.aspect = width / height;
                camera.updateProjectionMatrix();
            });
        </script>

    </div>
    <main>
        <section>
            <h2>太陽系を作成する一貫で作成したプロジェクトです。</h2>
            <p>この月はNASAのデータをもとに作成しました。
        </section>

        <section>
            <h2>参考リンク</h2>
            <ul>
                <li><a href="https://www.blender.org/">Blender公式サイト</a></li>
                <li><a href="https://docs.blender.org/manual/en/latest/">Blenderマニュアル</a></li>
            </ul>
        </section>
    </main>

    <footer>
        <p>&copy; 2023 Blenderチュートリアル</p>
    </footer>